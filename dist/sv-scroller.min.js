!function e(t,i,n){function o(l,a){if(!i[l]){if(!t[l]){var c="function"==typeof require&&require;if(!a&&c)return c(l,!0);if(r)return r(l,!0);var s=new Error("Cannot find module '"+l+"'");throw s.code="MODULE_NOT_FOUND",s}var u=i[l]={exports:{}};t[l][0].call(u.exports,function(e){var i=t[l][1][e];return o(i?i:e)},u,u.exports,e,t,i,n)}return i[l].exports}for(var r="function"==typeof require&&require,l=0;l<n.length;l++)o(n[l]);return o}({1:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){e.totalCols=(0,s.filterInt)(e.cols),e.totalCols||(e.totalCols=e.collection.length),e.itemWidth=(0,s.filterInt)(e.itemWidth),e.itemWidth||(0,s.error)("'item-width' required in horizontal mode"),e.screenItemsLen=Math.ceil(e.w/e.itemWidth),e.maxBuffer=Math.ceil(e.screenItemsLen*e.itemWidth),e.$scroller=(0,f["default"])(e.itemWidth*e.totalCols,e.mode,e.$scroller),e.$container=e.$container||(0,h["default"])(e.width,e.height,e.mode)}function l(e){e.totalRows=(0,s.filterInt)(e.rows),e.itemHeight=(0,s.filterInt)(e.itemHeight),e.totalRows||(e.totalRows=e.collection.length),e.itemHeight||(0,s.error)("'item-height' required in vertical mode"),e.screenItemsLen=Math.ceil(e.h/e.itemHeight),e.maxBuffer=Math.ceil(e.screenItemsLen*e.itemHeight),e.$scroller=(0,f["default"])(e.itemHeight*e.totalRows,e.mode,e.$scroller),e.$container=e.$container||(0,h["default"])(e.width,e.height,e.mode)}function a(e){e.totalCols=(0,s.filterInt)(e.cols),e.totalRows=(0,s.filterInt)(e.rows),e.itemHeight=(0,s.filterInt)(e.itemHeight),e.itemWidth=(0,s.filterInt)(e.itemWidth),e.itemHeight||(0,s.error)("'item-height' required in grd mode"),e.itemWidth||(0,s.error)("'item-width' required in grid mode"),e.totalCols||(e.totalCols=Math.floor(e.w/e.itemWidth)),e.totalRows||(e.totalRows=Math.ceil(e.collection.length/e.totalCols)),e.screenItemsLen=Math.ceil(e.h/e.itemHeight)*e.totalCols,e.maxBuffer=Math.ceil(e.screenItemsLen/e.totalCols*e.itemHeight),e.$scroller=(0,f["default"])(e.itemHeight*e.totalRows,e.mode,e.$scroller),e.$container=e.$container||(0,h["default"])(e.width,e.height,e.mode)}Object.defineProperty(i,"__esModule",{value:!0});var c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./utils"),u=e("./createContainer"),h=n(u),d=e("./scroller"),f=n(d),m=1,p=function(){function e(){o(this,e),this.totalRows=0,this.totalCols=0,this.lastRepaintY=0,this.lastRepaintX=0,this.lastScrolled=0,this.badNodeMarker=(0,s.uuid)(!0)}return c(e,[{key:"initialize",value:function(e){var t={};return Object.assign(t,this,e),this.w=t.w?(0,s.filterInt)(t.w):t.parentDims.width,this.h=t.h?(0,s.filterInt)(t.h):t.parentDims.height,this.width=this.w?this.w+"px":"100%",this.height=this.h?this.h+"px":"100%",this.mode=t.mode||"vertical","vertical"!==this.mode&&"horizontal"!==this.mode&&"grid"!==this.mode&&(0,s.error)("wrong type"),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.iterator=t.iterator||"item",this.collection=t.collection||[],"horizontal"===this.mode&&r(this),"vertical"===this.mode&&l(this),"grid"===this.mode&&a(this),this.$container.empty().append(this.$scroller),this.cachedItemsLen=this.screenItemsLen*m,this}}]),e}();i["default"]=p},{"./createContainer":2,"./scroller":4,"./utils":8}],2:[function(e,t,i){"use strict";function n(e,t,i){var n=angular.element("<div></div>"),o={width:e,height:t,"overflow-y":"auto",position:"absolute",top:0,bottom:0,left:0,right:0,padding:0};return"horizontal"===i&&(delete o["overflow-y"],o["overflow-x"]="auto"),n.css(o),n.addClass("s-container"),n}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n},{}],3:[function(e,t,i){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=e("./svScrollerSrvc.service"),o=i(n),r=e("./svScroller.directive"),l=i(r),a=e("./svScrollerCtrl"),c=i(a),s="undefined"!=typeof window?window.angular:"undefined"!=typeof t?t.angular:null;s.module("sv-scroller",[]).factory("svScrollerSrvc",function(){return o["default"]}).directive("svScroller",l["default"].factory).controller("svScrollerCtrl",c["default"])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./svScroller.directive":5,"./svScrollerCtrl":6,"./svScrollerSrvc.service":7}],4:[function(e,t,i){"use strict";function n(e,t,i){i=i||angular.element("<div></div>");var n={opacity:0,position:"absolute",top:0,left:0,width:"1px",height:e+"px"};return"horizontal"===t&&(n.width=e+"px",n.height="1px"),i.css(n),i}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n},{}],5:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){n(this,e),this.restrict="E",this.controller="svScrollerCtrl as svc",this.bindToController={iterator:"<",collection:"=",mode:"<",w:"<",h:"<",rows:"<",cols:"<",itemHeight:"<",itemWidth:"<",infiniteScroll:"&"},this.transclude=!0}return o(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();i["default"]=r,r.factory.$inject=[]},{}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,i,n,o,r,a){function h(e){var t=angular.element("<div></div>"),i={height:x.itemHeight+"px",width:"100%",position:"absolute",top:e*x.itemHeight+"px",visibility:"hidden"};if("horizontal"===x.mode&&(i.height="100%",i["min-height"]="100%",delete i.top,i.left=e*x.itemWidth+"px",i.width=x.itemWidth+"px"),"grid"===x.mode){var o=0,r=parseInt(e/x.totalCols);o=e-x.totalCols*r,i.top=r*x.itemHeight+"px",i.left=o*x.itemWidth+"px",i.width=x.itemWidth+"px",i["min-height"]=x.itemHeight+"px"}return t.css(i),t.addClass("horizontal"===x.mode?"s-vcol":"s-vrow"),"grid"===x.mode&&t.addClass("s-vcol"),n(function(i,n){n[x.iterator]=x.collection[e],t.append(i)}),setTimeout(function(){t.css({visibility:"visible"})},s),Promise.resolve(t)}function d(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=t.parent()[0].getBoundingClientRect();x.parentDims={height:i.height,width:i.width},Object.assign(x,e),Object.assign(x,x.config.initialize(x)),0===t.children().length&&t.append(x.$container),x.$container.unbind("scroll").unbind("resize").bind("scroll",f).bind("resize",p),m(x.$container,0).then(function(e){a.publish(x.namespace+"ready",!0)}),o(function(){if(Date.now()-x.lastScrolled>u){var e=angular.element(document.querySelectorAll('[data-rm-node="'+x.badNodeMarker+'"]'));e.remove()}},c)}function f(){var e=x.$container[0],t=void 0,i=void 0,n=void 0;switch(x.mode){case"horizontal":i=e.scrollLeft,(Math.abs(i-x.lastRepaintX)>x.maxBuffer||0===i)&&(t=parseInt(i/x.itemWidth)-x.screenItemsLen,m(x.$container,0>t?0:t),x.lastRepaintX=i);break;case"grid":n=e.scrollTop,(Math.abs(n-x.lastRepaintY)>x.maxBuffer||0===n)&&(t=parseInt(n/x.itemHeight*x.totalCols)-x.screenItemsLen,m(x.$container,0>t?0:t),x.lastRepaintY=n);break;default:n=e.scrollTop,(Math.abs(n-x.lastRepaintY)>x.maxBuffer||0===n)&&(t=parseInt(n/x.itemHeight)-x.screenItemsLen,m(x.$container,0>t?0:t),x.lastRepaintY=n)}x.lastScrolled=Date.now(),e.preventDefault&&e.preventDefault()}function m(e,t){var i=[],n=t+3*x.cachedItemsLen,o="horizontal"===x.mode?x.totalCols:"grid"===x.mode?x.totalCols*x.totalRows:x.totalRows;n>o&&(n=o);for(var r=angular.element(document.createDocumentFragment()),l=t;n>l;l++)i.push(h(l));for(var a=e.children(),c=1,s=a.length;s>c;c++){var u=a[c];u.style.display="none",u.setAttribute("data-rm-node",x.badNodeMarker)}return Promise.all(i).then(function(t){return t.forEach(function(e){r.append(e)}),e.append(r),x.mode})}function p(e){d(e),v(0)}function g(){a.publish(x.namespace+"ready",Boolean(x.$container.children().length>1))}function v(e){switch(e=parseInt(e,10)||0,x.mode){case"grid":m(x.$container,(Math.ceil(e/x.totalCols)-1)*x.totalCols),x.$container[0].scrollTop=(Math.ceil(e/x.totalCols)-1)*x.itemHeight;break;case"horizontal":m(x.$container,e),x.$container[0].scrollLeft=e*x.itemWidth;break;default:m(x.$container,e),x.$container[0].scrollTop=e*x.itemHeight}}function w(e){switch(x.scrollToView=e,x.scrollToView){case"top":m(x.$container,0),x.$container[0].scrollTop=0;break;case"bottom":m(x.$container,x.totalRows),x.$container[0].scrollTop=parseInt(x.totalRows*x.itemHeight,10);break;case"left":x.$container[0].scrollLeft=x.$container[0].scrollLeft-parseInt(x.itemWidth*x.screenItemsLen,10);break;case"right":x.$container[0].scrollLeft=x.$container[0].scrollLeft+parseInt(x.itemWidth*x.screenItemsLen,10);break;case"beginning":m(x.$container,0),x.$container[0].scrollLeft=0;break;case"end":m(x.$container,x.totalCols),x.$container[0].scrollLeft=x.totalCols*x.itemWidth;break;case"up":"grid"===x.mode?x.$container[0].scrollTop=x.$container[0].scrollTop-Math.ceil(x.itemHeight*x.screenItemsLen/x.totalCols):x.$container[0].scrollTop=x.$container[0].scrollTop-Math.ceil(x.itemHeight*x.screenItemsLen);break;case"down":"grid"===x.mode?x.$container[0].scrollTop=x.$container[0].scrollTop+Math.ceil(x.itemHeight*x.screenItemsLen/x.totalCols):x.$container[0].scrollTop=x.$container[0].scrollTop+Math.ceil(x.itemHeight*x.screenItemsLen)}}var b=this,x=this;x.config=new l["default"],x.namespace=i.id?i.id+":":"",x.infiniteScroll=this.infiniteScroll,d(x),e.$watchCollection(function(){return b.collection},function(e,t){e!==t&&(x.collection=b.collection,d(x),f())}),a.subscribe(x.namespace+"scrollToElement",v),a.subscribe(x.namespace+"scrollToView",w),a.subscribe(x.namespace+"reset",p),a.subscribe(x.namespace+"isReady",g)}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=o;var r=e("./Config"),l=n(r),a=(e("./utils"),e("./scroller")),c=(n(a),300),s=50,u=200;o.$inject=["$scope","$element","$attrs","$transclude","$interval","$timeout","svScrollerSrvc"]},{"./Config":1,"./scroller":4,"./utils":8}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={};i["default"]={addTopic:function(e){n[e]||(n[e]=[])},delTopic:function(e){n[e]&&(n[e].forEach(function(e){e=null}),delete n[e])},publish:function(e,t){!n[e]||n[e].length<1||n[e].forEach(function(e){e(t||{})})},subscribe:function(e,t){n[e]||(n[e]=[]);var i=n[e].find(function(e){return e===t});i||n[e].push(t)}}},{}],8:[function(e,t,i){"use strict";function n(e){throw new Error(e)}function o(e){return/^(\-|\+)?([0-9]+|Infinity)$/.test(e)?Number(e):null}function r(e){var t=(new Date).getTime(),i=e?"4xxx-xxxxxx":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",n=i.replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)});return n}Object.defineProperty(i,"__esModule",{value:!0}),i.error=n,i.filterInt=o,i.uuid=r},{}]},{},[3]);
//# sourceMappingURL=sv-scroller.min.js.map

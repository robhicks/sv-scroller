!function e(t,i,o){function n(l,a){if(!i[l]){if(!t[l]){var c="function"==typeof require&&require;if(!a&&c)return c(l,!0);if(r)return r(l,!0);var s=new Error("Cannot find module '"+l+"'");throw s.code="MODULE_NOT_FOUND",s}var u=i[l]={exports:{}};t[l][0].call(u.exports,function(e){var i=t[l][1][e];return n(i?i:e)},u,u.exports,e,t,i,o)}return i[l].exports}for(var r="function"==typeof require&&require,l=0;l<o.length;l++)n(o[l]);return n}({1:[function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){e.totalCols=(0,s.filterInt)(e.cols),e.totalCols||(e.totalCols=e.collection.length),e.itemWidth=(0,s.filterInt)(e.itemWidth),e.itemWidth||(0,s.error)("'item-width' required in horizontal mode"),e.screenItemsLen=Math.ceil(e.w/e.itemWidth),e.maxBuffer=Math.ceil(e.screenItemsLen*e.itemWidth),e.$scroller=(0,f["default"])(e.itemWidth*e.totalCols,e.mode,e.$scroller),e.$container=e.$container||(0,d["default"])(e.width,e.height,e.mode)}function l(e){e.totalRows=(0,s.filterInt)(e.rows),e.itemHeight=(0,s.filterInt)(e.itemHeight),e.totalRows||(e.totalRows=e.collection.length),e.itemHeight||(0,s.error)("'item-height' required in vertical mode"),e.screenItemsLen=Math.ceil(e.h/e.itemHeight),e.maxBuffer=Math.ceil(e.screenItemsLen*e.itemHeight),e.$scroller=(0,f["default"])(e.itemHeight*e.totalRows,e.mode,e.$scroller),e.$container=e.$container||(0,d["default"])(e.width,e.height,e.mode)}function a(e){e.totalCols=(0,s.filterInt)(e.cols),e.totalRows=(0,s.filterInt)(e.rows),e.itemHeight=(0,s.filterInt)(e.itemHeight),e.itemWidth=(0,s.filterInt)(e.itemWidth),e.itemHeight||(0,s.error)("'item-height' required in grd mode"),e.itemWidth||(0,s.error)("'item-width' required in grid mode"),e.totalCols||(e.totalCols=Math.floor(e.w/e.itemWidth)),e.totalRows||(e.totalRows=Math.ceil(e.collection.length/e.totalCols)),e.screenItemsLen=Math.ceil(e.h/e.itemHeight)*e.totalCols,e.maxBuffer=Math.ceil(e.screenItemsLen/e.totalCols*e.itemHeight),e.$scroller=(0,f["default"])(e.itemHeight*e.totalRows,e.mode,e.$scroller),e.$container=e.$container||(0,d["default"])(e.width,e.height,e.mode)}Object.defineProperty(i,"__esModule",{value:!0});var c=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),s=e("./utils"),u=e("./createContainer"),d=o(u),h=e("./scroller"),f=o(h),m=1,p=function(){function e(){n(this,e),this.totalRows=0,this.totalCols=0,this.lastRepaintY=0,this.lastRepaintX=0,this.lastScrolled=0,this.badNodeMarker=(0,s.uuid)(!0)}return c(e,[{key:"initialize",value:function(e){var t={};return Object.assign(t,this,e),this.w=t.w?(0,s.filterInt)(t.w):t.parentDims.width,this.h=t.h?(0,s.filterInt)(t.h):t.parentDims.height,this.width=this.w?this.w+"px":"100%",this.height=this.h?this.h+"px":"100%",this.mode=t.mode||"vertical","vertical"!==this.mode&&"horizontal"!==this.mode&&"grid"!==this.mode&&(0,s.error)("wrong type"),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.iterator=t.iterator||"item",this.collection=t.collection||[],"horizontal"===this.mode&&r(this),"vertical"===this.mode&&l(this),"grid"===this.mode&&a(this),this.$container.empty().append(this.$scroller),this.cachedItemsLen=this.screenItemsLen*m,this}}]),e}();i["default"]=p},{"./createContainer":2,"./scroller":7,"./utils":8}],2:[function(e,t,i){"use strict";function o(e,t,i){var o=angular.element("<div></div>"),n={width:e,height:t,"overflow-y":"auto",position:"absolute",top:0,bottom:0,left:0,right:0,padding:0};return"horizontal"===i&&(delete n["overflow-y"],n["overflow-x"]="auto"),o.css(n),o.addClass("s-container"),o}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=o},{}],3:[function(e,t,i){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=e("./sVscrollerSrvc.service"),n=i(o),r=e("./sVscroller.directive"),l=i(r),a=e("./sVscrollerCtrl"),c=i(a),s="undefined"!=typeof window?window.angular:"undefined"!=typeof t?t.angular:null;s.module("sv-scroller",[]).factory("sVscrollerSrvc",function(){return n["default"]}).directive("sVscroller",l["default"].factory).controller("sVscrollerCtrl",c["default"])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./sVscroller.directive":4,"./sVscrollerCtrl":5,"./sVscrollerSrvc.service":6}],4:[function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function(){function e(){o(this,e),this.restrict="E",this.controller="sVscrollerCtrl as svc",this.bindToController={iterator:"<",collection:"=",mode:"<",w:"<",h:"<",rows:"<",cols:"<",itemHeight:"<",itemWidth:"<",infiniteScroll:"&"},this.transclude=!0}return n(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();i["default"]=r,r.factory.$inject=[]},{}],5:[function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,i,o,n,r,a){function s(e){var t=angular.element("<div></div>"),i={height:v.itemHeight+"px",width:"100%",position:"absolute",top:e*v.itemHeight+"px"};if("horizontal"===v.mode&&(i.height="100%",i["min-height"]="100%",delete i.top,i.left=e*v.itemWidth+"px",i.width=v.itemWidth+"px"),"grid"===v.mode){var n=0,r=parseInt(e/v.totalCols);n=e-v.totalCols*r,i.top=r*v.itemHeight+"px",i.left=n*v.itemWidth+"px",i.width=v.itemWidth+"px",i["min-height"]=v.itemHeight+"px"}return t.css(i),t.addClass("horizontal"===v.mode?"s-vcol":"s-vrow"),"grid"===v.mode&&t.addClass("s-vcol"),o(function(i,o){o[v.iterator]=v.collection[e],t.append(i)}),Promise.resolve(t)}function u(e){Object.assign(v,v.config.initialize(e)),0===t.children().length&&t.append(v.$container),v.$container.unbind("scroll"),v.$container.bind("scroll",d),h(v.$container,0),a.subscribe(v.namespace+"scrollToElement",m),a.subscribe(v.namespace+"scrollToView",p),a.subscribe(v.namespace+"reset",f),n(function(){if(Date.now()-v.lastScrolled>200){var e=angular.element(document.querySelectorAll('[data-rm-node="'+v.badNodeMarker+'"]'));e.remove()}},c)}function d(){var e=v.$container[0],t=void 0,i=void 0,o=void 0;switch(v.mode){case"horizontal":i=e.scrollLeft,(Math.abs(i-v.lastRepaintX)>v.maxBuffer||0===i)&&(t=parseInt(i/v.itemWidth)-v.screenItemsLen,h(v.$container,0>t?0:t),v.lastRepaintX=i);break;case"grid":o=e.scrollTop,(Math.abs(o-v.lastRepaintY)>v.maxBuffer||0===o)&&(t=parseInt(o/v.itemHeight*v.totalCols)-v.screenItemsLen,h(v.$container,0>t?0:t),v.lastRepaintY=o);break;default:o=e.scrollTop,(Math.abs(o-v.lastRepaintY)>v.maxBuffer||0===o)&&(t=parseInt(o/v.itemHeight)-v.screenItemsLen,h(v.$container,0>t?0:t),v.lastRepaintY=o)}v.lastScrolled=Date.now(),e.preventDefault&&e.preventDefault()}function h(e,t){var i=[],o=t+3*v.cachedItemsLen,n="horizontal"===v.mode?v.totalCols:"grid"===v.mode?v.totalCols*v.totalRows:v.totalRows;o>n&&(o=n);for(var r=angular.element(document.createDocumentFragment()),l=t;o>l;l++)i.push(s(l));for(var a=e.children(),c=1,u=a.length;u>c;c++){var d=a[c];d.style.display="none",d.setAttribute("data-rm-node",v.badNodeMarker)}Promise.all(i).then(function(t){t.forEach(function(e){r.append(e)}),e.append(r)})}function f(e){u(e)}function m(e){e=parseInt(e,10),console.log("index",e),e&&("grid"===v.mode||(h(v.$container,e),"horizontal"===v.mode?v.$container[0].scrollLeft=e*v.itemWidth:"grid"===v.mode?v.$container[0].scrollTop=Math.ceil(e*v.itemHeight/v.totalCols):v.$container[0].scrollTop=e*v.itemHeight))}function p(e){switch(v.scrollToView=e,v.scrollToView){case"top":h(v.$container,0),v.$container[0].scrollTop=0;break;case"bottom":h(v.$container,v.totalRows),v.$container[0].scrollTop=parseInt(v.totalRows*v.itemHeight,10);break;case"left":v.$container[0].scrollLeft=v.$container[0].scrollLeft-parseInt(v.itemWidth*v.screenItemsLen,10);break;case"right":v.$container[0].scrollLeft=v.$container[0].scrollLeft+parseInt(v.itemWidth*v.screenItemsLen,10);break;case"beginning":h(v.$container,0),v.$container[0].scrollLeft=0;break;case"end":h(v.$container,v.totalCols),v.$container[0].scrollLeft=v.totalCols*v.itemWidth;break;case"up":"grid"===v.mode?v.$container[0].scrollTop=v.$container[0].scrollTop-Math.ceil(v.itemHeight*v.screenItemsLen/v.totalCols):v.$container[0].scrollTop=v.$container[0].scrollTop-Math.ceil(v.itemHeight*v.screenItemsLen);break;case"down":"grid"===v.mode?v.$container[0].scrollTop=v.$container[0].scrollTop+Math.ceil(v.itemHeight*v.screenItemsLen/v.totalCols):v.$container[0].scrollTop=v.$container[0].scrollTop+Math.ceil(v.itemHeight*v.screenItemsLen)}}var g=this,v={};v.config=new l["default"],v.namespace=i.id?i.id+":":"",v.infiniteScroll=this.infiniteScroll,r(function(){var e=t.parent()[0].getBoundingClientRect();g.parentDims={height:e.height,width:e.width},u(g)},200),e.$watchCollection(function(){return g.collection},function(e,t){e!==t&&(v.collection=g.collection,u(g),d())})}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n;var r=e("./Config"),l=o(r),a=(e("./utils"),e("./scroller")),c=(o(a),300);n.$inject=["$scope","$element","$attrs","$transclude","$interval","$timeout","sVscrollerSrvc"]},{"./Config":1,"./scroller":7,"./utils":8}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o={};i["default"]={addTopic:function(e){o[e]||(o[e]=[])},delTopic:function(e){o[e]&&(o[e].forEach(function(e){e=null}),delete o[e])},publish:function(e,t){!o[e]||o[e].length<1||o[e].forEach(function(e){e(t||{})})},subscribe:function(e,t){o[e]||(o[e]=[]);var i=o[e].find(function(e){return e===t});i||o[e].push(t)}}},{}],7:[function(e,t,i){"use strict";function o(e,t,i){i=i||angular.element("<div></div>");var o={opacity:0,position:"absolute",top:0,left:0,width:"1px",height:e+"px"};return"horizontal"===t&&(o.width=e+"px",o.height="1px"),i.css(o),i}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=o},{}],8:[function(e,t,i){"use strict";function o(e){throw new Error(e)}function n(e){return/^(\-|\+)?([0-9]+|Infinity)$/.test(e)?Number(e):null}function r(e){var t=(new Date).getTime(),i=e?"4xxx-xxxxxx":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",o=i.replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)});return o}Object.defineProperty(i,"__esModule",{value:!0}),i.error=o,i.filterInt=n,i.uuid=r},{}]},{},[3]);
//# sourceMappingURL=sv-scroller.min.js.map

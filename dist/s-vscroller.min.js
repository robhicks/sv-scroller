!function e(t,i,r){function n(l,a){if(!i[l]){if(!t[l]){var s="function"==typeof require&&require;if(!a&&s)return s(l,!0);if(o)return o(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[l]={exports:{}};t[l][0].call(u.exports,function(e){var i=t[l][1][e];return n(i?i:e)},u,u.exports,e,t,i,r)}return i[l].exports}for(var o="function"==typeof require&&require,l=0;l<r.length;l++)n(r[l]);return n}({1:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){e.totalCols=(0,c.filterInt)(e.cols),e.totalCols||(e.totalCols=e.iterable.length),e.itemWidth=(0,c.filterInt)(e.itemWidth),e.itemWidth||(0,c.error)("'item-width' required in horizontal mode"),e.screenItemsLen=Math.ceil(e.w/e.itemWidth),e.maxBuffer=Math.ceil(e.screenItemsLen*e.itemWidth),e.$scroller=(0,f["default"])(e.itemWidth*e.totalCols,e.mode,e.$scroller),e.$container=e.$container||(0,d["default"])(e.width,e.height,e.mode)}function l(e){e.totalRows=(0,c.filterInt)(e.rows),e.itemHeight=(0,c.filterInt)(e.itemHeight),e.totalRows||(e.totalRows=e.iterable.length),e.itemHeight||(0,c.error)("'item-height' required in vertical mode"),e.screenItemsLen=Math.ceil(e.h/e.itemHeight),e.maxBuffer=Math.ceil(e.screenItemsLen*e.itemHeight),e.$scroller=(0,f["default"])(e.itemHeight*e.totalRows,e.mode,e.$scroller),e.$container=e.$container||(0,d["default"])(e.width,e.height,e.mode)}function a(e){e.totalCols=(0,c.filterInt)(e.cols),e.totalRows=(0,c.filterInt)(e.rows),e.itemHeight=(0,c.filterInt)(e.itemHeight),e.itemWidth=(0,c.filterInt)(e.itemWidth),e.itemHeight||(0,c.error)("'item-height' required in grd mode"),e.itemWidth||(0,c.error)("'item-width' required in grid mode"),e.totalCols||(e.totalCols=Math.floor(e.w/e.itemWidth)),e.totalRows||(e.totalRows=Math.ceil(e.iterable.length/e.totalCols)),e.screenItemsLen=Math.ceil(e.h/e.itemHeight)*e.totalCols,e.maxBuffer=Math.ceil(e.screenItemsLen/e.totalCols*e.itemHeight),e.$scroller=(0,f["default"])(e.itemHeight*e.totalRows,e.mode,e.$scroller),e.$container=e.$container||(0,d["default"])(e.width,e.height,e.mode)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),c=e("./utils"),u=e("./createContainer"),d=r(u),h=e("./scroller"),f=r(h),m=1,p=function(){function e(){n(this,e),this.totalRows=0,this.totalCols=0,this.lastRepaintY=0,this.lastRepaintX=0,this.lastScrolled=0,this.badNodeMarker=(0,c.uuid)(!0)}return s(e,[{key:"initialize",value:function(e){var t={};return Object.assign(t,this,e),this.w=t.w?(0,c.filterInt)(t.w):t.parentDims.width,this.h=t.h?(0,c.filterInt)(t.h):t.parentDims.height,this.width=this.w?this.w+"px":"100%",this.height=this.h?this.h+"px":"100%",this.mode=t.mode||"vertical","vertical"!==this.mode&&"horizontal"!==this.mode&&"grid"!==this.mode&&(0,c.error)("wrong type"),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.iterator=t.iterator||"item",this.iterable=t.iterable||[],"horizontal"===this.mode&&o(this),"vertical"===this.mode&&l(this),"grid"===this.mode&&a(this),this.$container.empty().append(this.$scroller),this.cachedItemsLen=this.screenItemsLen*m,this}}]),e}();i["default"]=p},{"./createContainer":2,"./scroller":7,"./utils":8}],2:[function(e,t,i){"use strict";function r(e,t,i){var r=angular.element("<div></div>"),n={width:e,height:t,"overflow-y":"auto",position:"absolute",top:0,bottom:0,left:0,right:0,padding:0};return"horizontal"===i&&(delete n["overflow-y"],n["overflow-x"]="auto"),r.css(n),r.addClass("s-container"),r}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=r},{}],3:[function(e,t,i){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=e("./sVscrollerSrvc.service"),n=i(r),o=e("./sVscroller.directive"),l=i(o),a=e("./sVscrollerCtrl"),s=i(a),c="undefined"!=typeof window?window.angular:"undefined"!=typeof t?t.angular:null;c.module("sv-scroller",[]).factory("sVscrollerSrvc",function(){return n["default"]}).directive("sVscroller",l["default"].factory).controller("sVscrollerCtrl",s["default"])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./sVscroller.directive":4,"./sVscrollerCtrl":5,"./sVscrollerSrvc.service":6}],4:[function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.restrict="E",this.controller="sVscrollerCtrl as svc",this.bindToController={iterator:"<",iterable:"=",mode:"<",w:"<",h:"<",rows:"<",cols:"<",itemHeight:"<",itemWidth:"<",infiniteScroll:"&"},this.transclude=!0}return n(e,null,[{key:"factory",value:function(){return e.instance=new e,e.instance}}]),e}();i["default"]=o,o.factory.$inject=[]},{}],5:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,i,r,n,o,a){function c(e){var t=angular.element("<div></div>"),i={height:v.itemHeight+"px",width:"100%",position:"absolute",top:e*v.itemHeight+"px"};if("horizontal"===v.mode&&(i.height="100%",i["min-height"]="100%",delete i.top,i.left=e*v.itemWidth+"px",i.width=v.itemWidth+"px"),"grid"===v.mode){var n=0,o=parseInt(e/v.totalCols);n=e-v.totalCols*o,i.top=o*v.itemHeight+"px",i.left=n*v.itemWidth+"px",i.width=v.itemWidth+"px",i["min-height"]=v.itemHeight+"px"}return t.css(i),t.addClass("horizontal"===v.mode?"s-vcol":"s-vrow"),"grid"===v.mode&&t.addClass("s-vcol"),r(function(i,r){r[v.iterator]=v.iterable[e],t.append(i)}),Promise.resolve(t)}function u(e){Object.assign(v,v.config.initialize(e)),0===t.children().length&&t.append(v.$container),v.$container.unbind("scroll"),v.$container.bind("scroll",d),h(v.$container,0),a.subscribe(v.namespace+"scrollToElement",m),a.subscribe(v.namespace+"scrollToView",p),a.subscribe(v.namespace+"reset",f),n(function(){if(Date.now()-v.lastScrolled>200){var e=angular.element(document.querySelectorAll('[data-rm-node="'+v.badNodeMarker+'"]'));e.remove()}},s)}function d(){var e=v.$container[0],t=void 0,i=void 0,r=void 0;switch(v.mode){case"horizontal":i=e.scrollLeft,(Math.abs(i-v.lastRepaintX)>v.maxBuffer||0===i)&&(t=parseInt(i/v.itemWidth)-v.screenItemsLen,h(v.$container,0>t?0:t),v.lastRepaintX=i);break;case"grid":r=e.scrollTop,(Math.abs(r-v.lastRepaintY)>v.maxBuffer||0===r)&&(t=parseInt(r/v.itemHeight*v.totalCols)-v.screenItemsLen,h(v.$container,0>t?0:t),v.lastRepaintY=r);break;default:r=e.scrollTop,(Math.abs(r-v.lastRepaintY)>v.maxBuffer||0===r)&&(t=parseInt(r/v.itemHeight)-v.screenItemsLen,h(v.$container,0>t?0:t),v.lastRepaintY=r)}v.lastScrolled=Date.now(),e.preventDefault&&e.preventDefault()}function h(e,t){var i=[],r=t+3*v.cachedItemsLen,n="horizontal"===v.mode?v.totalCols:"grid"===v.mode?v.totalCols*v.totalRows:v.totalRows;r>n&&(r=n);for(var o=angular.element(document.createDocumentFragment()),l=t;r>l;l++)i.push(c(l));for(var a=e.children(),s=1,u=a.length;u>s;s++){var d=a[s];d.style.display="none",d.setAttribute("data-rm-node",v.badNodeMarker)}Promise.all(i).then(function(t){t.forEach(function(e){o.append(e)}),e.append(o)})}function f(e){u(e)}function m(e){e=parseInt(e,10),console.log("index",e),e&&("grid"===v.mode||(h(v.$container,e),"horizontal"===v.mode?v.$container[0].scrollLeft=e*v.itemWidth:"grid"===v.mode?v.$container[0].scrollTop=Math.ceil(e*v.itemHeight/v.totalCols):v.$container[0].scrollTop=e*v.itemHeight))}function p(e){switch(v.scrollToView=e,v.scrollToView){case"top":h(v.$container,0),v.$container[0].scrollTop=0;break;case"bottom":h(v.$container,v.totalRows),v.$container[0].scrollTop=parseInt(v.totalRows*v.itemHeight,10);break;case"left":v.$container[0].scrollLeft=v.$container[0].scrollLeft-parseInt(v.itemWidth*v.screenItemsLen,10);break;case"right":v.$container[0].scrollLeft=v.$container[0].scrollLeft+parseInt(v.itemWidth*v.screenItemsLen,10);break;case"beginning":h(v.$container,0),v.$container[0].scrollLeft=0;break;case"end":h(v.$container,v.totalCols),v.$container[0].scrollLeft=v.totalCols*v.itemWidth;break;case"up":"grid"===v.mode?v.$container[0].scrollTop=v.$container[0].scrollTop-Math.ceil(v.itemHeight*v.screenItemsLen/v.totalCols):v.$container[0].scrollTop=v.$container[0].scrollTop-Math.ceil(v.itemHeight*v.screenItemsLen);break;case"down":"grid"===v.mode?v.$container[0].scrollTop=v.$container[0].scrollTop+Math.ceil(v.itemHeight*v.screenItemsLen/v.totalCols):v.$container[0].scrollTop=v.$container[0].scrollTop+Math.ceil(v.itemHeight*v.screenItemsLen)}}var g=this,v={};v.config=new l["default"],v.namespace=i.id?i.id+":":"",v.infiniteScroll=this.infiniteScroll,o(function(){var e=t.parent()[0].getBoundingClientRect();g.parentDims={height:e.height,width:e.width},u(g)},200),e.$watchCollection(function(){return g.iterable},function(e,t){e!==t&&(v.iterable=g.iterable,u(g),d())})}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n;var o=e("./Config"),l=r(o),a=(e("./utils"),e("./scroller")),s=(r(a),300);n.$inject=["$scope","$element","$attrs","$transclude","$interval","$timeout","sVscrollerSrvc"]},{"./Config":1,"./scroller":7,"./utils":8}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={};i["default"]={addTopic:function(e){r[e]||(r[e]=[])},delTopic:function(e){r[e]&&(r[e].forEach(function(e){e=null}),delete r[e])},publish:function(e,t){!r[e]||r[e].length<1||r[e].forEach(function(e){e(t||{})})},subscribe:function(e,t){r[e]||(r[e]=[]);var i=r[e].find(function(e){return e===t});i||r[e].push(t)}}},{}],7:[function(e,t,i){"use strict";function r(e,t,i){i=i||angular.element("<div></div>");var r={opacity:0,position:"absolute",top:0,left:0,width:"1px",height:e+"px"};return"horizontal"===t&&(r.width=e+"px",r.height="1px"),i.css(r),i}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=r},{}],8:[function(e,t,i){"use strict";function r(e){throw new Error(e)}function n(e){return/^(\-|\+)?([0-9]+|Infinity)$/.test(e)?Number(e):null}function o(e){var t=(new Date).getTime(),i=e?"4xxx-xxxxxx":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r=i.replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)});return r}Object.defineProperty(i,"__esModule",{value:!0}),i.error=r,i.filterInt=n,i.uuid=o},{}]},{},[3]);
//# sourceMappingURL=s-vscroller.min.js.map

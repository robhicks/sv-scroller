{"version":3,"sources":["sv-scroller.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","configureHorizontalMode","totalCols","_utils","filterInt","cols","collection","itemWidth","error","screenItemsLen","Math","ceil","w","maxBuffer","$scroller","_scroller2","mode","$container","_createContainer2","width","height","configureVerticalMode","totalRows","rows","itemHeight","h","configureGridMode","floor","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_createContainer","_scroller","CACHED_ITEMS_MULTIPLE","_class","this","lastRepaintY","lastRepaintX","lastScrolled","badNodeMarker","uuid","conf","config","assign","parentDims","iterator","empty","append","cachedItemsLen","./createContainer","./scroller","./utils",2,"createContainer","$c","angular","element","css","overflow-y","position","top","bottom","left","right","padding","addClass",3,"global","_svScrollerSrvc","_svScrollerSrvc2","_svScroller","_svScroller2","_svScrollerCtrl","_svScrollerCtrl2","window","factory","directive","controller","self","./svScroller.directive","./svScrollerCtrl","./svScrollerSrvc.service",4,"scroller","size","opacity",5,"svScroller","restrict","bindToController","infiniteScroll","transclude","$inject",6,"svScrollerCtrl","$scope","$element","$attrs","$transclude","$interval","$timeout","svScrollerSrvc","createElement","$item","ctrl","visibility","col","row","parseInt","el","scope","setTimeout","VISIBILITY_TIME","Promise","resolve","initialize","arguments","undefined","parent","getBoundingClientRect","children","unbind","bind","onScrollHandler","reset","renderChunk","then","publish","namespace","Date","now","REPAINT_WAIT","$badNodes","document","querySelectorAll","remove","REMOVE_INTERVAL","first","scrollLeft","scrollTop","abs","preventDefault","$node","from","promises","finalItem","totalElements","$fragment","createDocumentFragment","push","$children","j","child","style","display","setAttribute","all","results","forEach","result","scrollToElement","isReady","Boolean","index","scrollToView","token","_this","_Config2","id","$watchCollection","subscribe","_Config","./Config",7,"topics","addTopic","topic","delTopic","subscriber","data","listener","currListener","find","listnr",8,"message","val","test","Number","short","d","getTime","uuidString","replace","c","random","toString"],"mappings":"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","file":"sv-scroller.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils');\n\nvar _createContainer = require('./createContainer');\n\nvar _createContainer2 = _interopRequireDefault(_createContainer);\n\nvar _scroller = require('./scroller');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CACHED_ITEMS_MULTIPLE = 1;\n\nvar _class = function () {\n  function _class() {\n    _classCallCheck(this, _class);\n\n    this.totalRows = 0;\n    this.totalCols = 0;\n    this.lastRepaintY = 0;\n    this.lastRepaintX = 0;\n    this.lastScrolled = 0;\n    this.badNodeMarker = (0, _utils.uuid)(true);\n  }\n\n  _createClass(_class, [{\n    key: 'initialize',\n    value: function initialize(conf) {\n      var config = {};\n      Object.assign(config, this, conf);\n      this.w = config.w ? (0, _utils.filterInt)(config.w) : config.parentDims.width;;\n      this.h = config.h ? (0, _utils.filterInt)(config.h) : config.parentDims.height;\n      this.width = this.w ? this.w + 'px' : '100%';\n      this.height = this.h ? this.h + 'px' : '100%';\n      this.mode = config.mode || 'vertical';\n      if (this.mode !== 'vertical' && this.mode !== 'horizontal' && this.mode !== 'grid') (0, _utils.error)('wrong type');\n      this.itemWidth = config.itemWidth;\n      this.itemHeight = config.itemHeight;\n      this.iterator = config.iterator || 'item';\n      this.collection = config.collection || [];\n      if (this.mode === 'horizontal') configureHorizontalMode(this);\n      if (this.mode === 'vertical') configureVerticalMode(this);\n      if (this.mode === 'grid') configureGridMode(this);\n      this.$container.empty().append(this.$scroller);\n      this.cachedItemsLen = this.screenItemsLen * CACHED_ITEMS_MULTIPLE;\n      return this;\n    }\n  }]);\n\n  return _class;\n}();\n\nexports.default = _class;\n\n\nfunction configureHorizontalMode(obj) {\n  obj.totalCols = (0, _utils.filterInt)(obj.cols);\n  if (!obj.totalCols) obj.totalCols = obj.collection.length;\n  obj.itemWidth = (0, _utils.filterInt)(obj.itemWidth);\n  if (!obj.itemWidth) (0, _utils.error)(\"'item-width' required in horizontal mode\");\n  obj.screenItemsLen = Math.ceil(obj.w / obj.itemWidth);\n  obj.maxBuffer = Math.ceil(obj.screenItemsLen * obj.itemWidth);\n  obj.$scroller = (0, _scroller2.default)(obj.itemWidth * obj.totalCols, obj.mode, obj.$scroller);\n  obj.$container = obj.$container || (0, _createContainer2.default)(obj.width, obj.height, obj.mode);\n}\n\nfunction configureVerticalMode(obj) {\n  obj.totalRows = (0, _utils.filterInt)(obj.rows);\n  obj.itemHeight = (0, _utils.filterInt)(obj.itemHeight);\n  if (!obj.totalRows) obj.totalRows = obj.collection.length;\n  if (!obj.itemHeight) (0, _utils.error)(\"'item-height' required in vertical mode\");\n  obj.screenItemsLen = Math.ceil(obj.h / obj.itemHeight);\n  obj.maxBuffer = Math.ceil(obj.screenItemsLen * obj.itemHeight);\n  obj.$scroller = (0, _scroller2.default)(obj.itemHeight * obj.totalRows, obj.mode, obj.$scroller);\n  obj.$container = obj.$container || (0, _createContainer2.default)(obj.width, obj.height, obj.mode);\n}\n\nfunction configureGridMode(obj) {\n  obj.totalCols = (0, _utils.filterInt)(obj.cols);\n  obj.totalRows = (0, _utils.filterInt)(obj.rows);\n  obj.itemHeight = (0, _utils.filterInt)(obj.itemHeight);\n  obj.itemWidth = (0, _utils.filterInt)(obj.itemWidth);\n  if (!obj.itemHeight) (0, _utils.error)(\"'item-height' required in grd mode\");\n  if (!obj.itemWidth) (0, _utils.error)(\"'item-width' required in grid mode\");\n  if (!obj.totalCols) obj.totalCols = Math.floor(obj.w / obj.itemWidth);\n  if (!obj.totalRows) obj.totalRows = Math.ceil(obj.collection.length / obj.totalCols);\n  // console.log(\"obj.totalCols\", obj.totalCols);\n  obj.screenItemsLen = Math.ceil(obj.h / obj.itemHeight) * obj.totalCols;\n  // console.log(\"obj.screenItemsLen\", obj.screenItemsLen);\n  obj.maxBuffer = Math.ceil(obj.screenItemsLen / obj.totalCols * obj.itemHeight);\n  obj.$scroller = (0, _scroller2.default)(obj.itemHeight * obj.totalRows, obj.mode, obj.$scroller);\n  obj.$container = obj.$container || (0, _createContainer2.default)(obj.width, obj.height, obj.mode);\n}\n\n},{\"./createContainer\":2,\"./scroller\":4,\"./utils\":8}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createContainer;\nfunction createContainer(w, h, mode) {\n  var $c = angular.element('<div></div>');\n  var css = {\n    width: w,\n    height: h,\n    'overflow-y': 'auto',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    padding: 0\n  };\n  if (mode === 'horizontal') {\n    delete css['overflow-y'];\n    css['overflow-x'] = 'auto';\n  }\n  $c.css(css);\n  $c.addClass('s-container');\n  return $c;\n}\n\n},{}],3:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _svScrollerSrvc = require('./svScrollerSrvc.service');\n\nvar _svScrollerSrvc2 = _interopRequireDefault(_svScrollerSrvc);\n\nvar _svScroller = require('./svScroller.directive');\n\nvar _svScroller2 = _interopRequireDefault(_svScroller);\n\nvar _svScrollerCtrl = require('./svScrollerCtrl');\n\nvar _svScrollerCtrl2 = _interopRequireDefault(_svScrollerCtrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar angular = (typeof window !== \"undefined\" ? window['angular'] : typeof global !== \"undefined\" ? global['angular'] : null);\n\nangular.module('sv-scroller', []).factory('svScrollerSrvc', function () {\n  return _svScrollerSrvc2.default;\n}).directive('svScroller', _svScroller2.default.factory).controller('svScrollerCtrl', _svScrollerCtrl2.default);\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./svScroller.directive\":5,\"./svScrollerCtrl\":6,\"./svScrollerSrvc.service\":7}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = scroller;\nfunction scroller(size, mode, $scroller) {\n  $scroller = $scroller || angular.element('<div></div>');\n\n  var css = {\n    opacity: 0,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '1px',\n    height: size + 'px'\n  };\n\n  if (mode === 'horizontal') {\n    css.width = size + 'px';\n    css.height = '1px';\n  }\n\n  $scroller.css(css);\n  return $scroller;\n}\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar svScroller = function () {\n  function svScroller() {\n    _classCallCheck(this, svScroller);\n\n    this.restrict = 'E';\n    this.controller = 'svScrollerCtrl as svc';\n    this.bindToController = {\n      iterator: '<',\n      collection: '=',\n      mode: '<',\n      w: '<',\n      h: '<',\n      rows: '<',\n      cols: '<',\n      itemHeight: '<',\n      itemWidth: '<',\n      infiniteScroll: '&'\n    };\n    this.transclude = true;\n  }\n\n  _createClass(svScroller, null, [{\n    key: 'factory',\n    value: function factory() {\n      svScroller.instance = new svScroller();\n      return svScroller.instance;\n    }\n  }]);\n\n  return svScroller;\n}();\n\nexports.default = svScroller;\n\n\nsvScroller.factory.$inject = [];\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = svScrollerCtrl;\n\nvar _Config = require('./Config');\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _utils = require('./utils');\n\nvar _scroller = require('./scroller');\n\nvar _scroller2 = _interopRequireDefault(_scroller);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar REMOVE_INTERVAL = 300;\nvar VISIBILITY_TIME = 50;\nvar REPAINT_WAIT = 200;\n\nfunction svScrollerCtrl($scope, $element, $attrs, $transclude, $interval, $timeout, svScrollerSrvc) {\n  var _this = this;\n\n  var ctrl = this;\n  ctrl.config = new _Config2.default();\n  ctrl.namespace = $attrs.id ? $attrs.id + ':' : '';\n  ctrl.infiniteScroll = this.infiniteScroll;\n\n  initialize(ctrl);\n\n  $scope.$watchCollection(function () {\n    return _this.collection;\n  }, function (n, o) {\n    if (n !== o) {\n      ctrl.collection = _this.collection;\n      initialize(ctrl);\n      onScrollHandler();\n    }\n  });\n\n  svScrollerSrvc.subscribe(ctrl.namespace + 'scrollToElement', scrollToElement);\n  svScrollerSrvc.subscribe(ctrl.namespace + 'scrollToView', scrollToView);\n  svScrollerSrvc.subscribe(ctrl.namespace + 'reset', reset);\n  svScrollerSrvc.subscribe(ctrl.namespace + 'isReady', isReady);\n\n  function createElement(i) {\n    var $item = angular.element('<div></div>');\n    var css = {\n      height: ctrl.itemHeight + 'px',\n      width: '100%',\n      position: 'absolute',\n      top: i * ctrl.itemHeight + 'px',\n      visibility: 'hidden'\n    };\n    if (ctrl.mode === 'horizontal') {\n      css.height = '100%';\n      css['min-height'] = '100%';\n      delete css.top;\n      css.left = i * ctrl.itemWidth + 'px';\n      css.width = ctrl.itemWidth + 'px';\n    }\n\n    if (ctrl.mode === 'grid') {\n      var col = 0;\n      var row = parseInt(i / ctrl.totalCols);\n      col = i - ctrl.totalCols * row;\n      css.top = row * ctrl.itemHeight + 'px';\n      css.left = col * ctrl.itemWidth + 'px';\n      css.width = ctrl.itemWidth + 'px';\n      css['min-height'] = ctrl.itemHeight + 'px';\n    }\n    $item.css(css);\n    $item.addClass(ctrl.mode === 'horizontal' ? 's-vcol' : 's-vrow');\n    if (ctrl.mode === 'grid') $item.addClass('s-vcol');\n    $transclude(function (el, scope) {\n      scope[ctrl.iterator] = ctrl.collection[i];\n      $item.append(el);\n    });\n    setTimeout(function () {\n      $item.css({ visibility: 'visible' });\n    }, VISIBILITY_TIME);\n    return Promise.resolve($item);\n  }\n\n  function initialize() {\n    var config = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var parent = $element.parent()[0].getBoundingClientRect();\n    ctrl.parentDims = {\n      height: parent.height,\n      width: parent.width\n    };\n    Object.assign(ctrl, config);\n    Object.assign(ctrl, ctrl.config.initialize(ctrl));\n    // console.log(\"ctrl\", ctrl);\n    if ($element.children().length === 0) $element.append(ctrl.$container);\n    // console.log(\"ctrl.$container\", ctrl.$container);\n    ctrl.$container.unbind('scroll').unbind('resize').bind('scroll', onScrollHandler).bind('resize', reset);\n    // console.log(\"ctrl.$container\", ctrl.$container);\n    renderChunk(ctrl.$container, 0).then(function (mode) {\n      // console.log('initialze', ctrl.namespace + 'ready');\n      svScrollerSrvc.publish(ctrl.namespace + 'ready', true);\n    });\n\n    $interval(function () {\n      if (Date.now() - ctrl.lastScrolled > REPAINT_WAIT) {\n        var $badNodes = angular.element(document.querySelectorAll('[data-rm-node=\"' + ctrl.badNodeMarker + '\"]'));\n        $badNodes.remove();\n      }\n    }, REMOVE_INTERVAL);\n  }\n\n  function onScrollHandler() {\n    var target = ctrl.$container[0];\n    var first = void 0,\n        scrollLeft = void 0,\n        scrollTop = void 0;\n\n    switch (ctrl.mode) {\n      case 'horizontal':\n        scrollLeft = target.scrollLeft;\n        if (Math.abs(scrollLeft - ctrl.lastRepaintX) > ctrl.maxBuffer || scrollLeft === 0) {\n          first = parseInt(scrollLeft / ctrl.itemWidth) - ctrl.screenItemsLen;\n          renderChunk(ctrl.$container, first < 0 ? 0 : first);\n          ctrl.lastRepaintX = scrollLeft;\n        }\n        break;\n      case 'grid':\n        scrollTop = target.scrollTop;\n        // console.log(\"scrollTop\", scrollTop, ' ctrl.lastRepaintY', ctrl.lastRepaintY, ' ctrl.maxBuffer ', ctrl.maxBuffer);\n        if (Math.abs(scrollTop - ctrl.lastRepaintY) > ctrl.maxBuffer || scrollTop === 0) {\n          first = parseInt(scrollTop / ctrl.itemHeight * ctrl.totalCols) - ctrl.screenItemsLen;\n          // console.log(\"first\", first, \"screenItemsLen \", ctrl.screenItemsLen);\n          renderChunk(ctrl.$container, first < 0 ? 0 : first);\n          ctrl.lastRepaintY = scrollTop;\n        }\n        break;\n      default:\n        scrollTop = target.scrollTop;\n        if (Math.abs(scrollTop - ctrl.lastRepaintY) > ctrl.maxBuffer || scrollTop === 0) {\n          first = parseInt(scrollTop / ctrl.itemHeight) - ctrl.screenItemsLen;\n          renderChunk(ctrl.$container, first < 0 ? 0 : first);\n          ctrl.lastRepaintY = scrollTop;\n        }\n    }\n\n    ctrl.lastScrolled = Date.now();\n    target.preventDefault && target.preventDefault();\n  }\n\n  function renderChunk($node, from) {\n    var promises = [];\n    var finalItem = from + ctrl.cachedItemsLen * 3;\n    var totalElements = ctrl.mode === 'horizontal' ? ctrl.totalCols : ctrl.mode === 'grid' ? ctrl.totalCols * ctrl.totalRows : ctrl.totalRows;\n    // console.log(\"from\", from, \" finalItem \", finalItem, \" totalElements \", totalElements);\n    if (finalItem > totalElements) finalItem = totalElements;\n    var $fragment = angular.element(document.createDocumentFragment());\n    for (var i = from; i < finalItem; i++) {\n      promises.push(createElement(i));\n    }\n\n    // Hide and mark obsolete nodes for deletion.\n    var $children = $node.children();\n    for (var j = 1, l = $children.length; j < l; j++) {\n      var child = $children[j];\n      child.style.display = 'none';\n      child.setAttribute('data-rm-node', ctrl.badNodeMarker);\n    }\n\n    return Promise.all(promises).then(function (results) {\n      results.forEach(function (result) {\n        $fragment.append(result);\n      });\n      // console.log(\"$fragment\", $fragment);\n      $node.append($fragment);\n      return ctrl.mode;\n    });\n  }\n\n  function reset(config) {\n    initialize(config);\n    scrollToElement(0);\n  }\n\n  function isReady() {\n    // console.log('isReady: ', Boolean(ctrl.$container.children().length > 1));\n    svScrollerSrvc.publish(ctrl.namespace + 'ready', Boolean(ctrl.$container.children().length > 1));\n  }\n\n  function scrollToElement(index) {\n    index = parseInt(index, 10) || 0;\n    // console.log('scrollToElement', index);\n    switch (ctrl.mode) {\n      case \"grid\":\n        renderChunk(ctrl.$container, (Math.ceil(index / ctrl.totalCols) - 1) * ctrl.totalCols);\n        ctrl.$container[0].scrollTop = (Math.ceil(index / ctrl.totalCols) - 1) * ctrl.itemHeight;\n        break;\n      case \"horizontal\":\n        renderChunk(ctrl.$container, index);\n        ctrl.$container[0].scrollLeft = index * ctrl.itemWidth;\n        break;\n      default:\n        renderChunk(ctrl.$container, index);\n        ctrl.$container[0].scrollTop = index * ctrl.itemHeight;\n    }\n  }\n\n  function scrollToView(token) {\n    ctrl.scrollToView = token;\n    switch (ctrl.scrollToView) {\n      case 'top':\n        renderChunk(ctrl.$container, 0);\n        ctrl.$container[0].scrollTop = 0;\n        break;\n      case 'bottom':\n        renderChunk(ctrl.$container, ctrl.totalRows);\n        ctrl.$container[0].scrollTop = parseInt(ctrl.totalRows * ctrl.itemHeight, 10);\n        break;\n      case 'left':\n        ctrl.$container[0].scrollLeft = ctrl.$container[0].scrollLeft - parseInt(ctrl.itemWidth * ctrl.screenItemsLen, 10);\n        break;\n      case 'right':\n        ctrl.$container[0].scrollLeft = ctrl.$container[0].scrollLeft + parseInt(ctrl.itemWidth * ctrl.screenItemsLen, 10);\n        break;\n      case 'beginning':\n        renderChunk(ctrl.$container, 0);\n        ctrl.$container[0].scrollLeft = 0;\n        break;\n      case 'end':\n        renderChunk(ctrl.$container, ctrl.totalCols);\n        ctrl.$container[0].scrollLeft = ctrl.totalCols * ctrl.itemWidth;\n        break;\n      case 'up':\n        if (ctrl.mode === 'grid') ctrl.$container[0].scrollTop = ctrl.$container[0].scrollTop - Math.ceil(ctrl.itemHeight * ctrl.screenItemsLen / ctrl.totalCols);else ctrl.$container[0].scrollTop = ctrl.$container[0].scrollTop - Math.ceil(ctrl.itemHeight * ctrl.screenItemsLen);\n        break;\n      case 'down':\n        if (ctrl.mode === 'grid') ctrl.$container[0].scrollTop = ctrl.$container[0].scrollTop + Math.ceil(ctrl.itemHeight * ctrl.screenItemsLen / ctrl.totalCols);else ctrl.$container[0].scrollTop = ctrl.$container[0].scrollTop + Math.ceil(ctrl.itemHeight * ctrl.screenItemsLen);\n        break;\n    }\n  }\n}\n\nsvScrollerCtrl.$inject = ['$scope', '$element', '$attrs', '$transclude', '$interval', '$timeout', 'svScrollerSrvc'];\n\n},{\"./Config\":1,\"./scroller\":4,\"./utils\":8}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar topics = {};\n\nexports.default = {\n  addTopic: function addTopic(topic) {\n    if (!topics[topic]) topics[topic] = [];\n  },\n  delTopic: function delTopic(topic) {\n    if (topics[topic]) {\n      topics[topic].forEach(function (subscriber) {\n        subscriber = null;\n      });\n      delete topics[topic];\n    }\n  },\n  publish: function publish(topic, data) {\n    if (!topics[topic] || topics[topic].length < 1) return;\n    topics[topic].forEach(function (listener) {\n      listener(data || {});\n    });\n  },\n  subscribe: function subscribe(topic, listener) {\n    if (!topics[topic]) topics[topic] = [];\n    var currListener = topics[topic].find(function (listnr) {\n      return listnr === listener;\n    });\n    if (!currListener) topics[topic].push(listener);\n  }\n};\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction error(message) {\n  throw new Error(message);\n}\n\nfunction filterInt(val) {\n  if (/^(\\-|\\+)?([0-9]+|Infinity)$/.test(val)) return Number(val);\n  return null;\n}\n\nfunction uuid(short) {\n  var d = new Date().getTime();\n  var uuidString = short ? '4xxx-xxxxxx' : 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n  var uuid = uuidString.replace(/[xy]/g, function (c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c == 'x' ? r : r & 0x3 | 0x8).toString(16);\n  });\n  return uuid;\n}\n\nexports.error = error;\nexports.filterInt = filterInt;\nexports.uuid = uuid;\n\n},{}]},{},[3]);\n"],"sourceRoot":"/source/"}